<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>34-DOM简介和DOM操作 | 吃惊夜夜</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="吃惊夜夜的小港湾">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.c4086290.js" as="script"><link rel="preload" href="/assets/js/2.2defd20b.js" as="script"><link rel="preload" href="/assets/js/43.4b5d4c62.js" as="script"><link rel="prefetch" href="/assets/js/10.8eebcbe5.js"><link rel="prefetch" href="/assets/js/11.e4d5d580.js"><link rel="prefetch" href="/assets/js/12.84d7b649.js"><link rel="prefetch" href="/assets/js/13.8ca97571.js"><link rel="prefetch" href="/assets/js/14.3c626919.js"><link rel="prefetch" href="/assets/js/15.1f35bfee.js"><link rel="prefetch" href="/assets/js/16.0e469adb.js"><link rel="prefetch" href="/assets/js/17.491efd1f.js"><link rel="prefetch" href="/assets/js/18.39eb943a.js"><link rel="prefetch" href="/assets/js/19.36fc650b.js"><link rel="prefetch" href="/assets/js/20.6f167d3b.js"><link rel="prefetch" href="/assets/js/21.a301ec28.js"><link rel="prefetch" href="/assets/js/22.d5fa3bea.js"><link rel="prefetch" href="/assets/js/23.78544147.js"><link rel="prefetch" href="/assets/js/24.318455c7.js"><link rel="prefetch" href="/assets/js/25.1254b648.js"><link rel="prefetch" href="/assets/js/26.c9759a22.js"><link rel="prefetch" href="/assets/js/27.ba0323c7.js"><link rel="prefetch" href="/assets/js/28.85d5ddc5.js"><link rel="prefetch" href="/assets/js/29.c28730b9.js"><link rel="prefetch" href="/assets/js/3.e1f57491.js"><link rel="prefetch" href="/assets/js/30.69e1fc08.js"><link rel="prefetch" href="/assets/js/31.c09e243f.js"><link rel="prefetch" href="/assets/js/32.d4e07804.js"><link rel="prefetch" href="/assets/js/33.76ab3d09.js"><link rel="prefetch" href="/assets/js/34.2ad4e756.js"><link rel="prefetch" href="/assets/js/35.24a5a2bb.js"><link rel="prefetch" href="/assets/js/36.4b92c73f.js"><link rel="prefetch" href="/assets/js/37.dc88bc6c.js"><link rel="prefetch" href="/assets/js/38.b217e74d.js"><link rel="prefetch" href="/assets/js/39.b988ca7d.js"><link rel="prefetch" href="/assets/js/4.26f73e91.js"><link rel="prefetch" href="/assets/js/40.4c0db7a4.js"><link rel="prefetch" href="/assets/js/41.ef5ee8cc.js"><link rel="prefetch" href="/assets/js/42.408c3886.js"><link rel="prefetch" href="/assets/js/44.2df9f6c6.js"><link rel="prefetch" href="/assets/js/45.6dce77a2.js"><link rel="prefetch" href="/assets/js/46.28e3d709.js"><link rel="prefetch" href="/assets/js/47.af83327e.js"><link rel="prefetch" href="/assets/js/48.c9c0fc61.js"><link rel="prefetch" href="/assets/js/49.f7ef8fc9.js"><link rel="prefetch" href="/assets/js/5.5dcec586.js"><link rel="prefetch" href="/assets/js/50.97752fef.js"><link rel="prefetch" href="/assets/js/51.1b9db6ce.js"><link rel="prefetch" href="/assets/js/52.a59ef98b.js"><link rel="prefetch" href="/assets/js/53.09ab1597.js"><link rel="prefetch" href="/assets/js/54.00eef295.js"><link rel="prefetch" href="/assets/js/55.0b8b6e82.js"><link rel="prefetch" href="/assets/js/56.05bff832.js"><link rel="prefetch" href="/assets/js/57.7f919fc7.js"><link rel="prefetch" href="/assets/js/58.e47ba765.js"><link rel="prefetch" href="/assets/js/59.f9c7c829.js"><link rel="prefetch" href="/assets/js/6.f2a96706.js"><link rel="prefetch" href="/assets/js/60.b4dab731.js"><link rel="prefetch" href="/assets/js/61.40cd948a.js"><link rel="prefetch" href="/assets/js/62.373deb93.js"><link rel="prefetch" href="/assets/js/63.730ad74d.js"><link rel="prefetch" href="/assets/js/64.3fdaadf6.js"><link rel="prefetch" href="/assets/js/65.8038e113.js"><link rel="prefetch" href="/assets/js/66.19d75172.js"><link rel="prefetch" href="/assets/js/67.9bce3722.js"><link rel="prefetch" href="/assets/js/68.e5053f7b.js"><link rel="prefetch" href="/assets/js/69.f81c663c.js"><link rel="prefetch" href="/assets/js/7.cafa4535.js"><link rel="prefetch" href="/assets/js/70.1808d9cb.js"><link rel="prefetch" href="/assets/js/71.afdd038b.js"><link rel="prefetch" href="/assets/js/72.fc9f8798.js"><link rel="prefetch" href="/assets/js/73.9456b4f3.js"><link rel="prefetch" href="/assets/js/74.9c68730a.js"><link rel="prefetch" href="/assets/js/75.62bd11e4.js"><link rel="prefetch" href="/assets/js/76.1dbfdb6a.js"><link rel="prefetch" href="/assets/js/77.7c2c5aac.js"><link rel="prefetch" href="/assets/js/78.f6267da3.js"><link rel="prefetch" href="/assets/js/79.2d1c0f08.js"><link rel="prefetch" href="/assets/js/8.0fd24d01.js"><link rel="prefetch" href="/assets/js/80.f0ee681b.js"><link rel="prefetch" href="/assets/js/9.c10878f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">吃惊夜夜</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术" class="dropdown-title"><span class="title">前端技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术" class="mobile-dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/language/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/language/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">
  Markdown语法
</a></li></ul></div></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></div><div class="nav-item"><a href="/language/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="https://github.com/chijingyeye" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术" class="dropdown-title"><span class="title">前端技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术" class="mobile-dropdown-title"><span class="title">前端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/language/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/language/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">
  Markdown语法
</a></li></ul></div></div><div class="nav-item"><a href="/javascript/" class="nav-link router-link-active">
  JavaScript
</a></div><div class="nav-item"><a href="/language/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="https://github.com/chijingyeye" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/" aria-current="page" class="sidebar-link">01-JavaScript简介</a></li><li><a href="/javascript/02-helloWorld.html" class="sidebar-link">02-开始写JavaScript：hello world</a></li><li><a href="/javascript/03-javascript.html" class="sidebar-link">03-常量和变量</a></li><li><a href="/javascript/04-javascript.html" class="sidebar-link">04-标识符、关键字、保留字</a></li><li><a href="/javascript/05-javascript.html" class="sidebar-link">05-变量的数据类型：基本数据类型和引用数据类型</a></li><li><a href="/javascript/06-javascript.html" class="sidebar-link">06-基本数据类型：String 和 Boolean</a></li><li><a href="/javascript/07-javascript.html" class="sidebar-link">07-基本数据类型：Number</a></li><li><a href="/javascript/08-javascript.html" class="sidebar-link">08-基本数据类型：Null 和 Undefined</a></li><li><a href="/javascript/09-javascript.html" class="sidebar-link">09-数据类型转换</a></li><li><a href="/javascript/10-javascript.html" class="sidebar-link">10-运算符</a></li><li><a href="/javascript/11-javascript.html" class="sidebar-link">11-流程控制语句：选择结构（if和switch）</a></li><li><a href="/javascript/12-javascript.html" class="sidebar-link">12-流程控制语句：循环结构（for和while）</a></li><li><a href="/javascript/13-javascript.html" class="sidebar-link">13-对象简介</a></li><li><a href="/javascript/14-javascript.html" class="sidebar-link">14-基本包装类型</a></li><li><a href="/javascript/15-javascript.html" class="sidebar-link">15-内置对象 String：字符串的常见方法</a></li><li><a href="/javascript/16-javascript.html" class="sidebar-link">16-内置对象：Number和Math</a></li><li><a href="/javascript/17-javascript.html" class="sidebar-link">17-内置对象：Date</a></li><li><a href="/javascript/18-javascript.html" class="sidebar-link">18-数组简介</a></li><li><a href="/javascript/19-javascript.html" class="sidebar-link">19-数组的常见方法</a></li><li><a href="/javascript/20-javascript.html" class="sidebar-link">20-函数</a></li><li><a href="/javascript/21-javascript.html" class="sidebar-link">21-作用域和变量提升</a></li><li><a href="/javascript/22-javascript.html" class="sidebar-link">22-预编译</a></li><li><a href="/javascript/23-javascript.html" class="sidebar-link">23-this指向</a></li><li><a href="/javascript/24-javascript.html" class="sidebar-link">24-call、apply 和 bind</a></li><li><a href="/javascript/25-javascript.html" class="sidebar-link">25-高阶函数</a></li><li><a href="/javascript/26-javascript.html" class="sidebar-link">26-闭包</a></li><li><a href="/javascript/27-javascript.html" class="sidebar-link">27-面向对象概述</a></li><li><a href="/javascript/28-javascript.html" class="sidebar-link">28-对象的创建&amp;构造函数</a></li><li><a href="/javascript/29-javascript.html" class="sidebar-link">29-对象的基本操作</a></li><li><a href="/javascript/30-javascript.html" class="sidebar-link">30-浅拷贝和深拷贝</a></li><li><a href="/javascript/31_1-javascript.html" class="sidebar-link">31_1-对象的高级操作（待更新）</a></li><li><a href="/javascript/31_2-javascript.html" class="sidebar-link">31_2-原型链和原型继承（待更新）</a></li><li><a href="/javascript/31_3-javascript.html" class="sidebar-link">31_3-类和构造继承（待更新）</a></li><li><a href="/javascript/32-javascript.html" class="sidebar-link">32-正则表达式</a></li><li><a href="/javascript/33-javascript.html" class="sidebar-link">33-事件简介</a></li><li><a href="/javascript/34-javascript.html" aria-current="page" class="active sidebar-link">34-DOM简介和DOM操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#常见概念" class="sidebar-link">常见概念</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#元素节点的获取" class="sidebar-link">元素节点的获取</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#dom-访问关系的获取" class="sidebar-link">DOM 访问关系的获取</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#dom-节点的操作-重要" class="sidebar-link">DOM 节点的操作（重要）</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#设置节点的属性" class="sidebar-link">设置节点的属性</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#dom-对象的属性-补充" class="sidebar-link">DOM 对象的属性-补充</a></li><li class="sidebar-sub-header"><a href="/javascript/34-javascript.html#文档的加载" class="sidebar-link">文档的加载</a></li></ul></li><li><a href="/javascript/35-javascript.html" class="sidebar-link">35-通过style对象获取和设置行内样式</a></li><li><a href="/javascript/36-javascript.html" class="sidebar-link">36-offset相关属性和匀速动画（含轮播图的实现）</a></li><li><a href="/javascript/37-javascript.html" class="sidebar-link">37-scroll相关属性和缓动动画</a></li><li><a href="/javascript/38-javascript.html" class="sidebar-link">38-client（可视区）相关属性</a></li><li><a href="/javascript/39-javascript.html" class="sidebar-link">39-事件的绑定和事件对象Event</a></li><li><a href="/javascript/40-javascript.html" class="sidebar-link">40-事件的传播和事件冒泡</a></li><li><a href="/javascript/41-javascript.html" class="sidebar-link">41-事件委托</a></li><li><a href="/javascript/42-javascript.html" class="sidebar-link">42-键盘事件</a></li><li><a href="/javascript/43-javascript.html" class="sidebar-link">43-BOM简介和navigator.userAgent&amp;History&amp;Location</a></li><li><a href="/javascript/44-javascript.html" class="sidebar-link">44-定时器</a></li><li><a href="/javascript/45-javascript.html" class="sidebar-link">45-jQuery的介绍和选择器</a></li><li><a href="/javascript/46-javascript.html" class="sidebar-link">46-jQuery动画详解</a></li><li><a href="/javascript/47-javascript.html" class="sidebar-link">47-jQuery操作DOM</a></li><li><a href="/javascript/48-javascript.html" class="sidebar-link">48-jQuery的事件机制和其他知识</a></li><li><a href="/javascript/49-javascript.html" class="sidebar-link">49-Zepto入门</a></li><li><a href="/javascript/50-javascript.html" class="sidebar-link">BOM的常见内置方法和内置对象</a></li><li><a href="/javascript/51-javascript.html" class="sidebar-link">常见代码解读</a></li><li><a href="/javascript/52-javascript.html" class="sidebar-link">原型对象</a></li><li><a href="/javascript/53-javascript.html" class="sidebar-link">原型链</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="常见概念"><a href="#常见概念" class="header-anchor">#</a> 常见概念</h2> <h3 id="javascript-的组成"><a href="#javascript-的组成" class="header-anchor">#</a> JavaScript 的组成</h3> <p>JavaScript 基础分为三个部分：</p> <ul><li><p>ECMAScript：JavaScript 的语法标准。包括变量、表达式、运算符、函数、if 语句、for 语句等。</p></li> <li><p><strong>DOM</strong>：文档对象模型（Document object Model），操作<strong>网页上的元素</strong>的 API。比如让盒子移动、变色、轮播图等。</p></li> <li><p><strong>BOM</strong>：浏览器对象模型（Browser Object Model），操作<strong>浏览器部分功能</strong>的 API。比如让浏览器自动滚动。</p></li></ul> <h3 id="节点"><a href="#节点" class="header-anchor">#</a> 节点</h3> <p><strong>节点</strong>（Node）：构成 HTML 网页的最基本单元。网页中的每一个部分都可以称为是一个节点，比如：html 标签、属性、文本、注释、整个文档等都是一个节点。</p> <p>虽然都是节点，但是实际上他们的具体类型是不同的。常见节点分为四类：</p> <ul><li><p>文档节点（文档）：整个 HTML 文档。整个 HTML 文档就是一个文档节点。</p></li> <li><p>元素节点（标签）：HTML 标签。</p></li> <li><p>属性节点（属性）：元素的属性。</p></li> <li><p>文本节点（文本）：HTML 标签中的文本内容（包括标签之间的空格、换行）。</p></li></ul> <p>节点的类型不同，属性和方法也都不尽相同。所有的节点都是 Object。</p> <h3 id="什么是-dom"><a href="#什么是-dom" class="header-anchor">#</a> 什么是 DOM</h3> <p><strong>DOM</strong>：Document Object Model，文档对象模型。DOM 为文档提供了结构化表示，并定义了如何通过脚本来访问文档结构。目的其实就是为了能让 js 操作 html 元素而制定的一个规范。</p> <p>DOM 就是由节点组成的。</p> <p><strong>解析过程</strong>：
HTML 加载完毕，渲染引擎会在内存中把 HTML 文档，生成一个 DOM 树，getElementById 是获取内中 DOM 上的元素节点。然后操作的时候修改的是该元素的<strong>属性</strong>。</p> <p><strong>DOM 树</strong>：（一切都是节点）</p> <p>DOM 的数据结构如下：</p> <p><img src="http://img.smyhvae.com/20180126_2105.png" alt=""></p> <p>上图可知，<strong>在 HTML 当中，一切都是节点</strong>（非常重要）。节点的分类，在上一段中，已经讲了。</p> <p>整个 html 文档就是一个文档节点。所有的节点都是 Object。</p> <h3 id="dom-可以做什么"><a href="#dom-可以做什么" class="header-anchor">#</a> DOM 可以做什么</h3> <ul><li><p>找对象（元素节点）</p></li> <li><p>设置元素的属性值</p></li> <li><p>设置元素的样式</p></li> <li><p>动态创建和删除元素</p></li> <li><p>事件的触发响应：事件源、事件、事件的驱动程序</p></li></ul> <h2 id="元素节点的获取"><a href="#元素节点的获取" class="header-anchor">#</a> 元素节点的获取</h2> <p>DOM 节点的获取方式其实就是<strong>获取事件源的方式</strong>。关于事件，上一篇文章中已经讲到了。</p> <p>想要操作元素节点，必须首先要找到该节点。有三种方式可以获取 DOM 节点：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//方式一：通过 id 获取 一个 元素节点（为什么是一个呢？因为 id 是唯一的）</span>

<span class="token keyword">var</span> arr1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//方式二：通过 标签名 获取 元素节点数组，所以有s</span>

<span class="token keyword">var</span> arr2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;hehe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//方式三：通过 类名 获取 元素节点数组，所以有s</span>
</code></pre></div><p>既然方式二、方式三获取的是标签数组，那么习惯性是<strong>先遍历之后再使用</strong>。</p> <p>特殊情况：数组中的值只有 1 个。即便如此，这一个值也是包在数组里的。这个值的获取方式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//取数组中的第一个元素</span>

document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;hehe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//取数组中的第一个元素</span>
</code></pre></div><h2 id="dom-访问关系的获取"><a href="#dom-访问关系的获取" class="header-anchor">#</a> DOM 访问关系的获取</h2> <p>DOM 的节点并不是孤立的，因此可以通过 DOM 节点之间的相对关系对它们进行访问。如下：</p> <p><img src="http://img.smyhvae.com/20180126_2140.png" alt=""></p> <p>节点的访问关系，是以<strong>属性</strong>的方式存在的。</p> <p>JS 中的<strong>父子兄</strong>访问关系：</p> <p><img src="http://img.smyhvae.com/20180126_2145.png" alt=""></p> <p>这里我们要重点知道<strong>parentNode</strong>和<strong>children</strong>这两个属性的用法。下面分别介绍。</p> <h3 id="获取父节点"><a href="#获取父节点" class="header-anchor">#</a> 获取父节点</h3> <p>调用者就是节点。一个节点只有一个父节点，调用方式就是</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>节点<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
</code></pre></div><h3 id="获取兄弟节点"><a href="#获取兄弟节点" class="header-anchor">#</a> 获取兄弟节点</h3> <p><strong>1、下一个节点 | 下一个元素节点</strong>：</p> <blockquote><p>Sibling 的中文是<strong>兄弟</strong>。</p></blockquote> <p>（1）nextSibling：</p> <ul><li><p>火狐、谷歌、IE9+版本：都指的是下一个节点（包括标签、空文档和换行节点）。</p></li> <li><p>IE678 版本：指下一个元素节点（标签）。</p></li></ul> <p>（2）nextElementSibling：</p> <ul><li>火狐、谷歌、IE9+版本：都指的是下一个元素节点（标签）。</li></ul> <p><strong>总结</strong>：为了获取下一个<strong>元素节点</strong>，我们可以这样做：在 IE678 中用 nextSibling，在火狐谷歌 IE9+以后用 nextElementSibling，于是，综合这两个属性，可以这样写：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>下一个兄弟节点 <span class="token operator">=</span> 节点<span class="token punctuation">.</span>nextElementSibling <span class="token operator">||</span> 节点<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
</code></pre></div><p><strong>2、前一个节点 | 前一个元素节点</strong>：</p> <blockquote><p>previous 的中文是：前一个。</p></blockquote> <p>（1）previousSibling：</p> <ul><li><p>火狐、谷歌、IE9+版本：都指的是前一个节点（包括标签、空文档和换行节点）。</p></li> <li><p>IE678 版本：指前一个元素节点（标签）。</p></li></ul> <p>（2）previousElementSibling：</p> <ul><li>火狐、谷歌、IE9+版本：都指的是前一个元素节点（标签）。</li></ul> <p><strong>总结</strong>：为了获取前一个<strong>元素节点</strong>，我们可以这样做：在 IE678 中用 previousSibling，在火狐谷歌 IE9+以后用 previousElementSibling，于是，综合这两个属性，可以这样写：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>前一个兄弟节点 <span class="token operator">=</span> 节点<span class="token punctuation">.</span>previousElementSibling <span class="token operator">||</span> 节点<span class="token punctuation">.</span>previousSibling<span class="token punctuation">;</span>
</code></pre></div><p><strong>3、补充</strong>：获得任意一个兄弟节点：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>节点自己<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//随意得到兄弟节点</span>
</code></pre></div><h3 id="获取单个的子节点"><a href="#获取单个的子节点" class="header-anchor">#</a> 获取单个的子节点</h3> <p><strong>1、第一个子节点 | 第一个子元素节点</strong>：</p> <p>（1）firstChild：</p> <ul><li><p>火狐、谷歌、IE9+版本：都指的是第一个子节点（包括标签、空文档和换行节点）。</p></li> <li><p>IE678 版本：指第一个子元素节点（标签）。</p></li></ul> <p>（2）firstElementChild：</p> <ul><li>火狐、谷歌、IE9+版本：都指的是第一个子元素节点（标签）。</li></ul> <p><strong>总结</strong>：为了获取第一个<strong>子元素节点</strong>，我们可以这样做：在 IE678 中用 firstChild，在火狐谷歌 IE9+以后用 firstElementChild，于是，综合这两个属性，可以这样写：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>第一个子元素节点 <span class="token operator">=</span> 节点<span class="token punctuation">.</span>firstElementChild <span class="token operator">||</span> 节点<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
</code></pre></div><p><strong>2、最后一个子节点 | 最后一个子元素节点</strong>：</p> <p>（1）lastChild：</p> <ul><li><p>火狐、谷歌、IE9+版本：都指的是最后一个子节点（包括标签、空文档和换行节点）。</p></li> <li><p>IE678 版本：指最后一个子元素节点（标签）。</p></li></ul> <p>（2）lastElementChild：</p> <ul><li>火狐、谷歌、IE9+版本：都指的是最后一个子元素节点（标签）。</li></ul> <p><strong>总结</strong>：为了获取最后一个<strong>子元素节点</strong>，我们可以这样做：在 IE678 中用 lastChild，在火狐谷歌 IE9+以后用 lastElementChild，于是，综合这两个属性，可以这样写：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>最后一个子元素节点 <span class="token operator">=</span> 节点<span class="token punctuation">.</span>lastElementChild <span class="token operator">||</span> 节点<span class="token punctuation">.</span>lastChild<span class="token punctuation">;</span>
</code></pre></div><h3 id="获取所有的子节点"><a href="#获取所有的子节点" class="header-anchor">#</a> 获取所有的子节点</h3> <p>（1）<strong>childNodes</strong>：标准属性。返回的是指定元素的<strong>子节点</strong>的集合（包括元素节点、所有属性、文本节点）。是 W3C 的亲儿子。</p> <ul><li>火狐 谷歌等高本版会把换行也看做是子节点。</li></ul> <p>用法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>子节点数组 <span class="token operator">=</span> 父节点<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span> <span class="token comment">//获取所有节点。</span>
</code></pre></div><p>（2）<strong>children</strong>：非标准属性。返回的是指定元素的<strong>子元素节点</strong>的集合。【重要】</p> <ul><li>它只返回 HTML 节点，甚至不返回文本节点。</li> <li>在 IE6/7/8 中包含注释节点（在 IE678 中，注释节点不要写在里面）。</li></ul> <p>虽然不是标准的 DOM 属性，但它和 innerHTML 方法一样，得到了几乎所有浏览器的支持。</p> <p>用法：（<strong>用的最多</strong>）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>子节点数组 <span class="token operator">=</span> 父节点<span class="token punctuation">.</span>children<span class="token punctuation">;</span> <span class="token comment">//获取所有节点。用的最多。</span>
</code></pre></div><h2 id="dom-节点的操作-重要"><a href="#dom-节点的操作-重要" class="header-anchor">#</a> DOM 节点的操作（重要）</h2> <p>上一段的内容：节点的<strong>访问关系</strong>都是<strong>属性</strong>。</p> <p>本段的内容：节点的<strong>操作</strong>都是<strong>函数</strong>（方法）。</p> <h3 id="创建节点"><a href="#创建节点" class="header-anchor">#</a> 创建节点</h3> <p>格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>	<span class="token function">新的标签</span><span class="token punctuation">(</span>元素节点<span class="token punctuation">)</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;标签名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>比如，如果我们想创建一个 li 标签，或者是创建一个不存在的 adbc 标签，可以这样做：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> a1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个li标签</span>
  <span class="token keyword">var</span> a2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;adbc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个不存在的标签</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>打印结果：</p> <p><img src="http://img.smyhvae.com/20180127_1135.png" alt=""></p> <h3 id="插入节点"><a href="#插入节点" class="header-anchor">#</a> 插入节点</h3> <p>插入节点有两种方式，它们的含义是不同的。</p> <p>方式 1：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>父节点<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>新的子节点<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>解释：父节点的最后插入一个新的子节点。</p> <p>方式 2：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>父节点<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>新的子节点<span class="token punctuation">,</span> 作为参考的子节点<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>解释：</p> <ul><li>在参考节点前插入一个新的节点。</li> <li>如果参考节点为 null，那么他将在父节点里面的最后插入一个子节点。</li></ul> <p><img src="http://img.smyhvae.com/20180127_1257.png" alt=""></p> <p>我们可以看到，li 标签确实被插入到了 box1 标签的里面，和 box2 并列了。</p> <p>方式 2 的举例：</p> <p><img src="http://img.smyhvae.com/20180127_1302.png" alt=""></p> <p>我们可以看到，b1 标签被插入到了 box1 标签的里面，和 a1 标签并列，在 a1 标签的前面。</p> <p><strong>特别强调：</strong></p> <p>关于方式 1 的 appendChild 方法，这里要强调一下。比如，现在有下面这样一个 div 结构：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box11<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box12<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>生命壹号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box21<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box22<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>永不止步<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上方结构中，子盒子 box12 是在父亲 box11 里的，子盒子 box22 是在父亲 box21 里面的。现在，如果我调用方法<code>box11.appendChild(box22)</code>，<strong>最后产生的结果是：box22 会跑到 box11 中</strong>（也就是说，box22 不在 box21 里面了）。这是一个很神奇的事情：</p> <p><img src="http://img.smyhvae.com/20180129_2125.png" alt=""></p> <h3 id="删除节点"><a href="#删除节点" class="header-anchor">#</a> 删除节点</h3> <p>格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>父节点<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>子节点<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>解释：<strong>用父节点删除子节点</strong>。必须要指定是删除哪个子节点。</p> <p>如果我想删除自己这个节点，可以这么做：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>node1<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="复制节点-克隆节点"><a href="#复制节点-克隆节点" class="header-anchor">#</a> 复制节点（克隆节点）</h3> <p>格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>要复制的节点<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//括号里不带参数和带参数false，效果是一样的。</span>

要复制的节点<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>括号里带不带参数，效果是不同的。解释如下：</p> <ul><li><p>不带参数/带参数 false：只复制节点本身，不复制子节点。</p></li> <li><p>带参数 true：既复制节点本身，也复制其所有的子节点。</p></li></ul> <h2 id="设置节点的属性"><a href="#设置节点的属性" class="header-anchor">#</a> 设置节点的属性</h2> <p>我们可以获取节点的属性值、设置节点的属性值、删除节点的属性。</p> <p>我们就统一拿下面这个标签来举例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/1.jpg<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image-box<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>美女图片<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>地铁一瞥<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a1<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>下面分别介绍。</p> <h3 id="_1、获取节点的属性值"><a href="#_1、获取节点的属性值" class="header-anchor">#</a> 1、获取节点的属性值</h3> <p><strong>方式 1</strong>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>元素节点<span class="token punctuation">.</span>属性名<span class="token punctuation">;</span>
元素节点<span class="token punctuation">[</span>属性名<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>举例：（获取节点的属性值）</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images/1.jpg<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image-box<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>美女图片<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>地铁一瞥<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a1<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> myNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注意，是className，不是class</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">[</span><span class="token string">&quot;className&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注意，是className，不是class</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上方代码中的 img 标签，有各种属性，我们可以逐一获取，打印结果如下：</p> <p><img src="http://img.smyhvae.com/20180127_1340.png" alt=""></p> <p><strong>方式 2</strong>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>元素节点<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;属性名称&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>举例：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//注意是class，不是className</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myNode<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>打印结果：</p> <p><img src="http://img.smyhvae.com/20180127_1345.png" alt=""></p> <p>方式 1 和方式 2 的区别在于：前者是直接操作标签，后者是把标签作为 DOM 节点。推荐方式 2。</p> <h3 id="_2、设置节点的属性值"><a href="#_2、设置节点的属性值" class="header-anchor">#</a> 2、设置节点的属性值</h3> <p>方式 1 举例：（设置节点的属性值）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>myNode<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;images/2.jpg&quot;</span><span class="token punctuation">;</span> <span class="token comment">//修改src的属性值</span>
myNode<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;image2-box&quot;</span><span class="token punctuation">;</span> <span class="token comment">//修改class的name</span>
</code></pre></div><p>方式 2：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>元素节点<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;属性名&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;新的属性值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>方式 2 举例：（设置节点的属性值）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>myNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;images/3.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;image3-box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3、删除节点的属性"><a href="#_3、删除节点的属性" class="header-anchor">#</a> 3、删除节点的属性</h3> <p>格式：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>元素节点<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span>属性名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>举例：（删除节点的属性）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>myNode<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myNode<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>获取节点的属性值和设置节点的属性值，都有两种方式。</p> <p><strong>如果是节点的“原始属性”</strong>（比如 普通标签的<code>class/className</code>属性、普通标签的<code>style</code>属性、普通标签的 title 属性、img 标签的<code>src</code>属性、超链接的<code>href</code>属性等），<strong>方式 1 和方式 2 是等价的</strong>，可以混用。怎么理解混用呢？比如说：用 <code>div.title = '我是标题'</code>设置属性，用 <code>div.getAttribute('title')</code>获取属性，就是混用。</p> <p>但如果是节点的“非原始属性”，比如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>div<span class="token punctuation">.</span>aaa <span class="token operator">=</span> <span class="token string">&quot;qianguyihao&quot;</span><span class="token punctuation">;</span>

div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qianguyihao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的这个“非原始属性”，在使用这两种方式时，是有区别的。区别如下：</p> <ul><li><p>方式 1 的<code>元素节点.属性</code>和<code>元素节点[属性]</code>：绑定的属性值不会出现在标签上。</p></li> <li><p>方式 2 的<code>get/set/removeAttribut</code>：绑定的属性值会出现在标签上。</p></li> <li><p><strong>这两种方式不能交换使用</strong>，get 值和 set 值必须使用同一种方法。</p></li></ul> <p>举例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>主体<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>asdfasdfadsfd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我爱你中国<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//采用方式一进行set</span>
    div<span class="token punctuation">.</span>aaaa <span class="token operator">=</span> <span class="token string">&quot;1111&quot;</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>aaaa<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打印结果：1111。可以打印出来，但是不会出现在标签上</span>

    <span class="token comment">//采用方式二进行set</span>
    div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;bbbb&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2222&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//bbbb作为新增的属性，会出现在标签上</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打印结果：null。因为方式一的set，无法采用方式二进行get。</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>bbbb<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打印结果：undefined。因为方式二的set，无法采用方式一进行get。</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="dom-对象的属性-补充"><a href="#dom-对象的属性-补充" class="header-anchor">#</a> DOM 对象的属性-补充</h2> <h3 id="innerhtml-和-innertext-的区别"><a href="#innerhtml-和-innertext-的区别" class="header-anchor">#</a> innerHTML 和 innerText 的区别</h3> <ul><li><p>value：标签的 value 属性。</p></li> <li><p><strong>innerHTML</strong>：双闭合标签里面的内容（包含标签）。</p></li> <li><p><strong>innerText</strong>：双闭合标签里面的内容（不包含标签）。（老版本的火狐用 textContent）</p></li></ul> <p><strong>获取内容举例：</strong></p> <p>如果我们想获取 innerHTML 和 innerText 里的内容，看看会如何：（innerHTML 会获取到标签本身，而 innerText 则不会）</p> <p><img src="http://img.smyhvae.com/20180127_1652.png" alt=""></p> <p><strong>修改内容举例：</strong>（innerHTML 会修改标签本身，而 innerText 则不会）</p> <p><img src="http://img.smyhvae.com/20180127_1657.png" alt=""></p> <h3 id="nodetype-属性"><a href="#nodetype-属性" class="header-anchor">#</a> nodeType 属性</h3> <p>这里讲一下 nodeType 属性。</p> <ul><li><p><strong>nodeType == 1 表示的是元素节点</strong>（标签） 。记住：在这里，元素就是标签。</p></li> <li><p>nodeType == 2 表示是属性节点。</p></li> <li><p>nodeType == 3 是文本节点。</p></li></ul> <h3 id="nodetype、nodename、nodevalue"><a href="#nodetype、nodename、nodevalue" class="header-anchor">#</a> nodeType、nodeName、nodeValue</h3> <p>我们那下面这个标签来举例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>111<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>生命壹号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面这个标签就包含了三种节点：</p> <ul><li><p>元素节点（标签）</p></li> <li><p>属性节点</p></li> <li><p>文本节点</p></li></ul> <p>获取这三个节点的方式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取元素节点（标签）</span>
<span class="token keyword">var</span> attribute <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取box1的属性节点</span>
<span class="token keyword">var</span> txt <span class="token operator">=</span> element<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> <span class="token comment">//获取box1的文本节点</span>

<span class="token keyword">var</span> value <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取id的属性值</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>打印结果如下：</p> <p><img src="http://img.smyhvae.com/20180128_1935.png" alt=""></p> <p>既然这三个都是节点，如果我想获取它们的 nodeType、nodeName、nodeValue，代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取元素节点（标签）</span>
<span class="token keyword">var</span> attribute <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取box1的属性节点</span>
<span class="token keyword">var</span> txt <span class="token operator">=</span> element<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> <span class="token comment">//获取box1的文本节点</span>

<span class="token comment">//获取nodeType</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attribute<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取nodeName</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//DIV</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attribute<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//id</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//#text</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取nodeValue</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attribute<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//box1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span>nodeValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//生命壹号</span>
</code></pre></div><p>打印结果如下：</p> <p><img src="http://img.smyhvae.com/20180128_1939.png" alt=""></p> <h2 id="文档的加载"><a href="#文档的加载" class="header-anchor">#</a> 文档的加载</h2> <p>浏览器在加载一个页面时，是按照自上向下的顺序加载的，读取到一行就运行一行。如果将 script 标签写到页面的上边，在代码执行时，页面还没有加载，页面没有加载 DOM 对象也没有加载，会导致无法获取到 DOM 对象。</p> <p><strong>onload 事件</strong>：</p> <p>onload 事件会在整个页面加载完成之后才触发。为 window 绑定一个 onload 事件，该事件对应的响应函数将会在页面加载完成之后执行，这样可以确保我们的代码执行时所有的 DOM 对象已经加载完毕了。</p> <p>代码举例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// 【方式一：先加载，后执行】这段 js 代码是写在 &lt;head&gt; 标签里的，所以建议放在 window.onload 里面。</span>
      window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取id为btn的按钮</span>
        <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 为按钮绑定点击事件</span>
        btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我一下<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// 【方式二：后加载，后执行】这段 js 代码是写在 &lt;body&gt; 标签里的，代码的位置是处在页面的下方。这么做，也可以确保：在页面加载完毕后，再执行 js 代码。</span>

      <span class="token comment">// 获取id为btn的按钮</span>
      <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 为按钮绑定点击事件</span>
      btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上方代码中，方式一和方式二均可以确保：在页面加载完毕后，再执行 js 代码。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/javascript/33-javascript.html" class="prev">
        33-事件简介
      </a></span> <span class="next"><a href="/javascript/35-javascript.html">
        35-通过style对象获取和设置行内样式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c4086290.js" defer></script><script src="/assets/js/2.2defd20b.js" defer></script><script src="/assets/js/43.4b5d4c62.js" defer></script>
  </body>
</html>
